syntax = "proto3";
package ukama.data_plan.package.v1;
option go_package = "github.com/ukama/ukama/systems/data-plan/package/pb/gen";

import "validator.proto";


service PackagesService {
    rpc Get (GetPackageRequest) returns (GetPackageResponse) {}
    rpc GetDetails (GetPackageRequest) returns (GetPackageResponse) {}
    rpc Add (AddPackageRequest) returns (AddPackageResponse){}
    rpc Delete (DeletePackageRequest) returns (DeletePackageResponse){}
    rpc Update (UpdatePackageRequest) returns (UpdatePackageResponse){}
    rpc GetByOrg (GetByOrgPackageRequest) returns (GetByOrgPackageResponse){}
}

message GetPackageRequest{
    string uuid = 1 [(validator.field) = {uuid_ver: 4, string_not_empty: true}];
}

message GetByOrgPackageRequest{
    string orgId = 1 [(validator.field) = {uuid_ver: 4, string_not_empty: true}, json_name = "org_id"];
}

message GetByOrgPackageResponse{
    repeated Package packages =1;

}

message GetPackageResponse{
    Package package =1;
}

message DeletePackageRequest {
    string uuid = 1 [(validator.field) = {uuid_ver: 4, string_not_empty: true}];
    string orgId = 2 [(validator.field) = {uuid_ver: 4, string_not_empty: true}, json_name = "org_id"];
}

message DeletePackageResponse {
    string uuid = 1 [(validator.field) = {uuid_ver: 4, string_not_empty: true}];
    string orgId = 2 [(validator.field) = {uuid_ver: 4, string_not_empty: true}, json_name = "org_id"];
}

message UpdatePackageRequest {
    string uuid=1  [(validator.field) = {uuid_ver: 4}];
    string orgId = 2 [(validator.field) = {uuid_ver: 4, string_not_empty: true}, json_name = "org_id"];
    string name=3;
    bool active=4;
}

message UpdatePackageResponse {
    Package package = 1;
}

message AddPackageRequest {
    string uuid=1  [(validator.field) = {uuid_ver: 4}];
    string name =2;
    string orgId = 3 [(validator.field) = {uuid_ver: 4, string_not_empty: true}, json_name = "org_id"];
    bool active =4;
    uint64 duration = 5;
    string simType=6 [json_name = "sim_type"];
    int64 smsVolume =10 [json_name = "sms_volume"];
    int64 dataVolume=11 [json_name = "data_volume"];
    int64 voiceVolume =12 [json_name = "voice_volume"];
    int64 dlbr =13;
    int64 ulbr = 14;
    double markup = 16;
    string type = 17;
    string dataUnit = 18 [json_name = "data_unit"];
    string voiceUnit = 19 [json_name = "voice_unit"];
    string messageUnit = 20 [json_name = "message_unit"];
    bool   flatrate = 21;
    double amount = 22;
    string effectiveAt = 23 [json_name = "effective_at"];
    string endAt = 24 [json_name = "end_at"];
    string country=25;
    string provider= 26;
    string apn = 27;
    string baserateId = 28 [(validator.field) = {uuid_ver: 4, string_not_empty: true}, json_name = "baserate_id"];
    string ownerId =29[(validator.field) = {uuid_ver: 4, string_not_empty: true}, json_name = "owner_id"];
    string from = 30;
    string to = 31;
    
}

message AddPackageResponse {
    Package package =1;

}

message Package {
    string uuid=1  [(validator.field) = {uuid_ver: 4}]  ;
    string name =2;
    string orgId = 3 [(validator.field) = {uuid_ver: 4, string_not_empty: true}, json_name = "org_id"];
    bool active =4;
    uint64 duration = 5;
    string simType=6 [json_name = "sim_type"];
    string createdAt=7 [json_name = "created_at"];
    string deletedAt=8 [json_name = "deleted_at"];
    string updatedAt=9 [json_name = "updated_at"];
    int64 smsVolume =10 [json_name = "sms_volume"];
    int64 dataVolume=11 [json_name = "data_volume"];
    int64 voiceVolume =12 [json_name = "voice_volume"];
    int64 dlbr =13;
    int64 ulbr = 14;
    PackageRates rate = 15;
    PackageMarkup markup = 16;
    string type = 17;
    string dataUnit = 18 [json_name = "data_unit"];
    string voiceUnit = 19 [json_name = "voice_unit"];
    string messageUnit = 20 [json_name = "message_unit"];
    bool flatrate = 21;
    string currency = 22;
    string from = 23;
    string to = 24;
    string country=25;
    string provider= 26;
    string apn = 27;
    string ownerId = 28 [(validator.field) = {uuid_ver: 4, string_not_empty: true}, json_name = "owner_id"];
    double amount = 29;
}

message PackageRates{ 
    double smsMo=1 [json_name = "sms_mo"];
    double smsMt =2 [json_name = "sms_mt"];
    double data =3;
    double amount  = 4;

} 

message PackageMarkup {
    string baserate = 1  [(validator.field) = {uuid_ver: 4}];
    double markup = 2;
}