# Metrics Query

query GetLatestMetric($data: GetLatestMetricInput!) {
  getLatestMetric(data: $data) {
    success
    msg
    orgId
    nodeId
    type
    value
  }
}

query GetMetricByTab($data: GetMetricByTabInput!) {
  getMetricByTab(data: $data) {
    metrics {
      success
      msg
      orgId
      nodeId
      type
      values
    }
  }
}

subscription GetMetricByTabSub(
  $nodeId: String!
  $orgId: String!
  $type: GRAPHS_TYPE!
  $userId: String!
  $from: Float!
) {
  getMetricByTabSub(
    nodeId: $nodeId
    orgId: $orgId
    type: $type
    userId: $userId
    from: $from
  ) {
    success
    msg
    orgId
    nodeId
    type
    value
  }
}

query GetStatsMetric {
  getStatsMetric {
    activeSubscriber
    averageSignalStrength
    averageThroughput
  }
}
query GetNotifications($data: GetNotificationsInput!) {
  getNotifications(data: $data) {
    notifications {
      id
      title
      description
      createdAt
      type
      scope
      isRead
    }
  }
}
subscription GetNetworkNotifications($orgId: String!, $userId: String!, $networkId: String!, $role: ROLE_TYPE!) {
  getNetworkNotifications(orgId: $orgId, userId: $userId, networkId: $networkId, role: $role) {
    notifications {
      id
      title
      description
      createdAt
      type
      scope
      isRead
    }
  }
}
subscription GetNodeNotifications($orgId: String!, $userId: String!, $networkId: String!, $siteId: String!, $nodeId: String!, $role: ROLE_TYPE!) {
  getNodeNotifications(orgId: $orgId, userId: $userId, networkId: $networkId, siteId: $siteId, nodeId: $nodeId, role: $role) {
    notifications {
      id
      title
      description
      createdAt
      type
      scope
      isRead
    }
  }
}
subscription GetOrgNotifications($orgId: String!, $userId: String!, $role: ROLE_TYPE!) {
  getOrgNotifications(orgId: $orgId, userId: $userId, role: $role) {
    notifications {
      id
      title
      description
      createdAt
      type
      scope
      isRead
    }
  }
}
subscription GetSiteNotifications($orgId: String!, $userId: String!, $networkId: String!, $siteId: String!, $role: ROLE_TYPE!) {
  getSiteNotifications(orgId: $orgId, userId: $userId, networkId: $networkId, siteId: $siteId, role: $role) {
    notifications {
      id
      title
      description
      createdAt
      type
      scope
      isRead
    }
  }
}
subscription GetSubscriberNotifications($orgId: String!, $userId: String!, $networkId: String!, $subscriberId: String!) {
  getSubscriberNotifications(orgId: $orgId, userId: $userId, networkId: $networkId, subscriberId: $subscriberId) {
    notifications {
      id
      title
      description
      createdAt
      type
      scope
      isRead
    }
  }
}
subscription GetUserNotifications($userId: String!) {
  getUserNotifications(userId: $userId) {
    notifications {
      id
      title
      description
      createdAt
      type
      scope
      isRead
    }
  }
}

