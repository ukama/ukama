# Metrics Query

query GetLatestMetric($data: GetLatestMetricInput!) {
  getLatestMetric(data: $data) {
    success
    msg
    orgId
    nodeId
    type
    value
  }
}

query GetMetricByTab($data: GetMetricByTabInput!) {
  getMetricByTab(data: $data) {
    metrics {
      success
      msg
      orgId
      nodeId
      type
      values
    }
  }
}

subscription GetMetricByTabSub(
  $nodeId: String!
  $orgId: String!
  $type: GRAPHS_TYPE!
  $userId: String!
  $from: Float!
) {
  getMetricByTabSub(
    nodeId: $nodeId
    orgId: $orgId
    type: $type
    userId: $userId
    from: $from
  ) {
    success
    msg
    orgId
    nodeId
    type
    value
  }
}

query GetStatsMetric {
  getStatsMetric {
    activeSubscriber
    averageSignalStrength
    averageThroughput
  }
}

query getNotifications($data: GetNotificationsInput!) {
  getNotifications(data: $data) {
    notifications {
      description
      id
      isRead
      networkId
      orgId
      role
      scope
      subscriberId
      title
      type
      userId
      timeStamp
    }
  }
}
subscription GetNotificationsSub(
  $orgId: String!
  $networkId: String!
  $siteId: String!
  $userId: String!
  $subscriberId: String!
  $scopes: [String!]!
) {
  getNotificationsSub(
    orgId: $orgId
    networkId: $networkId
    siteId: $siteId
    userId: $userId
    subscriberId: $subscriberId
    scopes: $scopes
  ) {
    description
    id
    isRead
    networkId
    orgId
    scope
    subscriberId
    timeStamp
    title
    type
    userId
  }
}